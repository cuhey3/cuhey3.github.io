<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&display=block');
    </style>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=block');
    </style>
    <style>
        html {
            touch-action: manipulation;
        }

        body {
            background-color: black;
        }

        body, svg {
            font-family: "Noto Sans JP", "Noto Color Emoji", sans-serif;
            font-weight: 300;
            font-style: normal;
            margin: 0;
            padding: 0;
        }

        svg {
            /*border: 1px solid white;*/
        }

        svg#controller {
            border: none;
        }

        text {
            user-select: none;
        }
    </style>
</head>
<body>
<svg width="800" height="700" id="battle" display="none">
    <text x="100" y="420" font-size="160">🟡</text>
    <text x="550" y="200" font-size="160">🥺</text>
    <text x="50" y="65" fill="white" font-size="30">ピエン</text>
    <text x="60" y="110" fill="white" font-size="30">HP:</text>
    <line x1="40" y1="80" x2="40" y2="130" fill="white" stroke="white" stroke-width="5"></line>
    <line x1="440" y1="130" x2="40" y2="130" fill="white" stroke="white" stroke-width="5"></line>
    <line x1="440" y1="130" x2="395" y2="120" fill="white" stroke="white" stroke-width="5"></line>
    <rect x="120" y="90" height="20" width="200" fill="green" stroke="white"></rect>
    <rect x="120" y="90" height="20" width="270" fill="none" stroke="white"></rect>
    <rect x="20" y="475" stroke="white" height="110" width="760"></rect>
<!--    <g id="battle-command">-->
<!--        <rect x="580" y="475" stroke="white" height="110" width="200"></rect>-->
<!--        <text x="640" y="520" fill="white" font-size="30">たたかう</text>-->
<!--        <text x="640" y="560" fill="white" font-size="30">にげる</text>-->
<!--        <text x="595" y="520" fill="white" font-size="30" id="command-cursor">👉</text>-->
<!--    </g>-->
    <g transform="translate(0, 0)" id="render-battle-wrapper" display="none">
        <rect x="580" y="475" stroke="white" height="110" width="200"></rect>
        <text x="640" y="520" fill="white" font-size="30" id="render-battle-item" display="none"></text>
        <text x="595" y="520" fill="white" font-size="30" id="render-battle-cursor" display="none">👉</text>
    </g>
    <g transform="translate(340, 300)">
        <text x="60" y="65" fill="white" font-size="30">スマイリー</text>
        <text x="70" y="110" fill="white" font-size="30">HP:</text>
        <line x1="420" y1="80" x2="420" y2="130" fill="white" stroke="white" stroke-width="5"></line>
        <line x1="420" y1="130" x2="30" y2="130" fill="white" stroke="white" stroke-width="5"></line>
        <line x1="25" y1="130" x2="70" y2="120" fill="white" stroke="white" stroke-width="5"></line>
        <rect x="130" y="90" height="20" width="270" fill="green" id="current-hp-bar"></rect>
        <rect x="130" y="90" height="20" width="270" fill="none" id="max-hp-bar" stroke="white"></rect>
    </g>
</svg>
<svg width="800" height="700" id="title" display="none">
    <g transform="translate(0, 50)">
        <text x="200" y="180" font-size="60" fill="white">BID OF POWER</text>
        <text x="310" y="280" fill="white" font-size="30" text-decoration="line-through">CPUと遊ぶ</text>
        <text x="310" y="340" fill="white" font-size="30">一緒に遊ぶ</text>
        <text x="310" y="400" fill="white" font-size="30">オンライン対戦</text>
        <text x="250" y="345" fill="white" font-size="40" id="title-cursor">👉</text>
    </g>
    <text x="590" y="30" fill="white" font-size="20">Aキー: 決定</text>
    <text x="590" y="60" fill="white" font-size="20">Zキー: 取消・メニュー</text>
    <text x="590" y="90" fill="white" font-size="20">方向キー: 移動</text>
</svg>
<svg width="800" height="700" id="game-main" display="none">
    <rect x="20" y="15" stroke="white" height="55" width="760" display="block"></rect>
    <text x="30" y="50" fill="white" font-size="18" id="simple-binder-required-input"></text>
    <g transform="translate(0, 10)" id="temporary-player-info">
        <text x="505" y="80" fill="white" font-size="13">プレイヤー1</text>
        <text x="700" y="80" fill="white" font-size="13">プレイヤー2</text>
        <rect x="390" y="90" stroke="white" height="160" width="390"></rect>
        <rect x="390" y="90" stroke="white" height="160" width="85"></rect>
        <text x="403" y="114" fill="white" font-size="15">行動順</text>
        <text x="548" y="114" fill="white" font-size="15" text-anchor="end" id="simple-binder-initiative-a"></text>
        <text x="403" y="138" fill="white" font-size="15">HP/MHP</text>
        <text x="548" y="138" fill="white" font-size="15" id="simple-binder-status-hp-max-hp-a" text-anchor="end"></text>
        <text x="403" y="162" fill="white" font-size="15">ATK</text>
        <text x="548" y="162" fill="white" font-size="15" id="simple-binder-status-atk-a" text-anchor="end"></text>
        <text x="403" y="186" fill="white" font-size="15">DEF</text>
        <text x="548" y="186" fill="white" font-size="15" id="simple-binder-status-def-a" text-anchor="end"></text>
        <text x="403" y="210" fill="white" font-size="15">Damage</text>
        <text x="548" y="210" fill="white" font-size="15" text-anchor="end">1</text>
        <text x="403" y="234" fill="white" font-size="15">Money</text>
        <text x="573" y="234" fill="white" font-size="15" text-anchor="end" id="simple-binder-player-info-money-a"></text>

        <rect x="585" y="90" stroke="white" height="160" width="85"></rect>
        <text x="598" y="114" fill="white" font-size="15">行動順</text>
        <text x="743" y="114" fill="white" font-size="15" text-anchor="end" id="simple-binder-initiative-b"></text>
        <text x="598" y="138" fill="white" font-size="15">HP</text>
        <text x="743" y="138" fill="white" font-size="15" id="simple-binder-status-hp-max-hp-b" text-anchor="end"></text>
        <text x="598" y="162" fill="white" font-size="15">ATK</text>
        <text x="743" y="162" fill="white" font-size="15" id="simple-binder-status-atk-b" text-anchor="end"></text>
        <text x="598" y="186" fill="white" font-size="15">DEF</text>
        <text x="743" y="186" fill="white" font-size="15" id="simple-binder-status-def-b" text-anchor="end"></text>
        <text x="598" y="210" fill="white" font-size="15">Damage</text>
        <text x="743" y="210" fill="white" font-size="15" text-anchor="end">1</text>
        <text x="598" y="234" fill="white" font-size="15">Money</text>
        <text x="768" y="234" fill="white" font-size="15" text-anchor="end" id="simple-binder-player-info-money-b"></text>
    </g>
    <g transform="translate(0, 97)" id="temporary-player-card-info">
        <text x="455" y="183" fill="white" font-size="14" >プレイヤー1アイテム</text>
        <rect x="390" y="193" stroke="white" height="395" width="390"></rect>
        <text x="430" y="215" fill="white" font-size="14" id="simple-binder-card-list-a-1"></text>
        <text x="430" y="254" fill="white" font-size="14" id="simple-binder-card-list-a-2"></text>
        <text x="430" y="293" fill="white" font-size="14" id="simple-binder-card-list-a-3"></text>
        <text x="430" y="332" fill="white" font-size="14" id="simple-binder-card-list-a-4"></text>
        <text x="430" y="371" fill="white" font-size="14" id="simple-binder-card-list-a-5"></text>
        <text x="430" y="410" fill="white" font-size="14" id="simple-binder-card-list-a-6"></text>
        <text x="430" y="449" fill="white" font-size="14" id="simple-binder-card-list-a-7"></text>
        <text x="430" y="488" fill="white" font-size="14" id="simple-binder-card-list-a-8"></text>
        <text x="430" y="527" fill="white" font-size="14" id="simple-binder-card-list-a-9"></text>
        <text x="430" y="566" fill="white" font-size="14" id="simple-binder-card-list-a-10"></text>
        <text x="445" y="230" fill="white" font-size="11" id="simple-binder-card-list-a-1-description"></text>
        <text x="445" y="269" fill="white" font-size="11" id="simple-binder-card-list-a-2-description"></text>
        <text x="445" y="308" fill="white" font-size="11" id="simple-binder-card-list-a-3-description"></text>
        <text x="445" y="347" fill="white" font-size="11" id="simple-binder-card-list-a-4-description"></text>
        <text x="445" y="386" fill="white" font-size="11" id="simple-binder-card-list-a-5-description"></text>
        <text x="445" y="425" fill="white" font-size="11" id="simple-binder-card-list-a-6-description"></text>
        <text x="445" y="464" fill="white" font-size="11" id="simple-binder-card-list-a-7-description"></text>
        <text x="445" y="503" fill="white" font-size="11" id="simple-binder-card-list-a-8-description"></text>
        <text x="445" y="542" fill="white" font-size="11" id="simple-binder-card-list-a-9-description"></text>
        <text x="445" y="581" fill="white" font-size="11" id="simple-binder-card-list-a-10-description"></text>

        <text x="650" y="183" fill="white" font-size="14" >プレイヤー2アイテム</text>
        <rect x="585" y="193" stroke="white" height="395" width="195"></rect>
        <text x="625" y="215" fill="white" font-size="14" id="simple-binder-card-list-b-1"></text>
        <text x="625" y="254" fill="white" font-size="14" id="simple-binder-card-list-b-2"></text>
        <text x="625" y="293" fill="white" font-size="14" id="simple-binder-card-list-b-3"></text>
        <text x="625" y="332" fill="white" font-size="14" id="simple-binder-card-list-b-4"></text>
        <text x="625" y="371" fill="white" font-size="14" id="simple-binder-card-list-b-5"></text>
        <text x="625" y="410" fill="white" font-size="14" id="simple-binder-card-list-b-6"></text>
        <text x="625" y="449" fill="white" font-size="14" id="simple-binder-card-list-b-7"></text>
        <text x="625" y="488" fill="white" font-size="14" id="simple-binder-card-list-b-8"></text>
        <text x="625" y="527" fill="white" font-size="14" id="simple-binder-card-list-b-9"></text>
        <text x="625" y="566" fill="white" font-size="14" id="simple-binder-card-list-b-10"></text>
        <text x="640" y="230" fill="white" font-size="11" id="simple-binder-card-list-b-1-description"></text>
        <text x="640" y="269" fill="white" font-size="11" id="simple-binder-card-list-b-2-description"></text>
        <text x="640" y="308" fill="white" font-size="11" id="simple-binder-card-list-b-3-description"></text>
        <text x="640" y="347" fill="white" font-size="11" id="simple-binder-card-list-b-4-description"></text>
        <text x="640" y="386" fill="white" font-size="11" id="simple-binder-card-list-b-5-description"></text>
        <text x="640" y="425" fill="white" font-size="11" id="simple-binder-card-list-b-6-description"></text>
        <text x="640" y="464" fill="white" font-size="11" id="simple-binder-card-list-b-7-description"></text>
        <text x="640" y="503" fill="white" font-size="11" id="simple-binder-card-list-b-8-description"></text>
        <text x="640" y="542" fill="white" font-size="11" id="simple-binder-card-list-b-9-description"></text>
        <text x="640" y="581" fill="white" font-size="11" id="simple-binder-card-list-b-10-description"></text>
        <text x="400" y="218" fill="white" font-size="18" id="use-item-cursor-a"></text>
        <text x="595" y="218" fill="white" font-size="18" id="use-item-cursor-b"></text>
    </g>
    <g transform="translate(0, 65)" id="scheduled-card-list">
        <text x="315" y="215" fill="white" font-size="13">入札予定</text>
        <rect x="20" y="225" width="350" height="395" stroke="white" fill="black"></rect>
        <text x="35" y="248" fill="white" font-size="13" id="simple-binder-scheduled-card-1">1　ロングソード</text>
        <text x="35" y="268" fill="white" font-size="13" id="simple-binder-scheduled-card-2" >1　ロングソード</text>
        <text x="35" y="288" fill="white" font-size="13" id="simple-binder-scheduled-card-3" >1　ロングソード</text>
        <text x="35" y="308" fill="white" font-size="13" id="simple-binder-scheduled-card-4" >1　ロングソード</text>
        <text x="35" y="328" fill="white" font-size="13" id="simple-binder-scheduled-card-5" >1　ロングソード</text>
        <text x="35" y="348" fill="white" font-size="13" id="simple-binder-scheduled-card-6" >1　ロングソード</text>
        <text x="35" y="368" fill="white" font-size="13" id="simple-binder-scheduled-card-7" >1　ロングソード</text>
        <text x="35" y="388" fill="white" font-size="13" id="simple-binder-scheduled-card-8" >1　ロングソード</text>
        <text x="35" y="408" fill="white" font-size="13" id="simple-binder-scheduled-card-9" >1　ロングソード</text>
        <text x="35" y="428" fill="white" font-size="13" id="simple-binder-scheduled-card-10" >1　ロングソード</text>
        <text x="35" y="448" fill="white" font-size="13" id="simple-binder-scheduled-card-11" >1　ロングソード</text>
        <text x="35" y="468" fill="white" font-size="13" id="simple-binder-scheduled-card-12" >1　ロングソード</text>
        <text x="35" y="488" fill="white" font-size="13" id="simple-binder-scheduled-card-13" >1　ロングソード</text>
        <text x="35" y="508" fill="white" font-size="13" id="simple-binder-scheduled-card-14" >1　ロングソード</text>
        <text x="35" y="528" fill="white" font-size="13" id="simple-binder-scheduled-card-15" >1　ロングソード</text>
        <text x="35" y="548" fill="white" font-size="13" id="simple-binder-scheduled-card-16" >1　ロングソード</text>
        <text x="35" y="568" fill="white" font-size="13" id="simple-binder-scheduled-card-17" >1　ロングソード</text>
        <text x="35" y="588" fill="white" font-size="13" id="simple-binder-scheduled-card-18" >1　ロングソード</text>
        <text x="35" y="608" fill="white" font-size="13" id="simple-binder-scheduled-card-19" >1　ロングソード</text>
        <text x="150" y="248" fill="white" font-size="11" id="simple-binder-scheduled-card-description-1">1　ロングソード</text>
        <text x="150" y="268" fill="white" font-size="11" id="simple-binder-scheduled-card-description-2" >1　ロングソード</text>
        <text x="150" y="288" fill="white" font-size="11" id="simple-binder-scheduled-card-description-3" >1　ロングソード</text>
        <text x="150" y="308" fill="white" font-size="11" id="simple-binder-scheduled-card-description-4" >1　ロングソード</text>
        <text x="150" y="328" fill="white" font-size="11" id="simple-binder-scheduled-card-description-5" >1　ロングソード</text>
        <text x="150" y="348" fill="white" font-size="11" id="simple-binder-scheduled-card-description-6" >1　ロングソード</text>
        <text x="150" y="368" fill="white" font-size="11" id="simple-binder-scheduled-card-description-7" >1　ロングソード</text>
        <text x="150" y="388" fill="white" font-size="11" id="simple-binder-scheduled-card-description-8" >1　ロングソード</text>
        <text x="150" y="408" fill="white" font-size="11" id="simple-binder-scheduled-card-description-9" >1　ロングソード</text>
        <text x="150" y="428" fill="white" font-size="11" id="simple-binder-scheduled-card-description-10" >1　ロングソード</text>
        <text x="150" y="448" fill="white" font-size="11" id="simple-binder-scheduled-card-description-11" >1　ロングソード</text>
        <text x="150" y="468" fill="white" font-size="11" id="simple-binder-scheduled-card-description-12" >1　ロングソード</text>
        <text x="150" y="488" fill="white" font-size="11" id="simple-binder-scheduled-card-description-13" >1　ロングソード</text>
        <text x="150" y="508" fill="white" font-size="11" id="simple-binder-scheduled-card-description-14" >1　ロングソード</text>
        <text x="150" y="528" fill="white" font-size="11" id="simple-binder-scheduled-card-description-15" >1　ロングソード</text>
        <text x="150" y="548" fill="white" font-size="11" id="simple-binder-scheduled-card-description-16" >1　ロングソード</text>
        <text x="150" y="568" fill="white" font-size="11" id="simple-binder-scheduled-card-description-17" >1　ロングソード</text>
        <text x="150" y="588" fill="white" font-size="11" id="simple-binder-scheduled-card-description-18" >1　ロングソード</text>
        <text x="150" y="608" fill="white" font-size="11" id="simple-binder-scheduled-card-description-19" >1　ロングソード</text>
    </g>
    <g transform="translate(0, 20)" id="render-game-main-bid-wrapper" display="none">
        <rect x="20" y="80" width="350" height="160" stroke="white" fill="black"></rect>
        <text x="70" y="110" fill="white" font-size="15" id="render-game-main-bid-item" display="none"></text>
        <text x="350" y="113" fill="white" font-size="18" id="simple-binder-input-amount-1" text-anchor="end" display="none"></text>
        <text x="350" y="158" fill="white" font-size="18" id="simple-binder-input-amount-2" text-anchor="end" display="none"></text>
        <text x="350" y="203" fill="white" font-size="18" id="simple-binder-input-amount-3" text-anchor="end" display="none"></text>
        <text x="295" y="113" fill="white" font-size="18" id="simple-binder-current-amount-1" text-anchor="end" display="none"></text>
        <text x="295" y="158" fill="white" font-size="18" id="simple-binder-current-amount-2" text-anchor="end" display="none"></text>
        <text x="295" y="203" fill="white" font-size="18" id="simple-binder-current-amount-3" text-anchor="end" display="none"></text>
        <text x="295" y="203" fill="white" font-size="18" id="simple-binder-current-amount-3" text-anchor="end" display="none"></text>
        <text x="30" y="115" fill="white" font-size="24" id="render-game-main-bid-cursor" display="none"></text>
        <text x="255" y="70" fill="white" font-size="13">現在価格</text>
        <text x="315" y="70" fill="white" font-size="13">入札価格</text>
    </g>
    <g transform="translate(0, 0)" id="render-game-main-common-confirm-wrapper" display="none">
        <rect x="20" y="15" stroke="white" height="55" width="760" id="render-game-main-common-confirm-message-wrapper"
              display="none"></rect>
        <text x="30" y="50" fill="white" font-size="18" id="render-game-main-common-confirm-message"></text>
        <rect x="640" y="15" width="140" height="85" stroke="white" fill="black"></rect>
        <text x="693" y="52" fill="white" font-size="20" id="render-game-main-common-confirm-item" display="none"></text>
        <text x="658" y="52" fill="white" font-size="20" id="render-game-main-common-confirm-cursor"
              display="none">👉
        </text>
    </g>
    <g transform="translate(0, 0)" id="render-game-main-battle-wrapper" display="none">
        <rect x="20" y="15" stroke="white" height="55" width="760" id="render-game-main-battle-message-wrapper"
              display="none"></rect>
        <text x="30" y="50" fill="white" font-size="18" id="render-game-main-battle-message"></text>
        <rect x="520" y="15" width="260" height="85" stroke="white" fill="black"></rect>
        <text x="565" y="52" fill="white" font-size="20" id="render-game-main-battle-item" display="none"></text>
        <text x="535" y="52" fill="white" font-size="20" id="render-game-main-battle-cursor"
              display="none">👉
        </text>
    </g>
</svg>
<svg width="800" height="700" id="event" display="none">
    <g transform="translate(0, 0)">
    </g>
</svg>
<svg width="800" height="700" id="field" display="none">
    <g id="field-wrapper" transform="translate(0, 0)">
    </g>
    <rect x="360" y="280" fill="white" height="40" width="40" class="character"></rect>
    <text x="360" y="315" fill="black" font-size="40" class="character direction">↓</text>
    <text x="590" y="30" fill="black" font-size="20">Aキー: 決定</text>
    <text x="590" y="60" fill="black" font-size="20">Zキー: 取消・メニュー</text>
    <text x="590" y="90" fill="black" font-size="20">方向キー: 移動</text>
</svg>
<svg width="800" height="700" id="menu" display="none" style="position: absolute; top:0; left:0">
    <g transform="translate(28, 0)" id="render-menu-wrapper" display="none">
        <rect x="530" y="50" width="220" height="345" stroke="white" stroke-width="5" fill="black"></rect>
        <text x="595" y="100" fill="white" font-size="30" id="render-menu-item" display="none"></text>
        <text x="550" y="100" fill="white" font-size="30" id="render-menu-cursor" display="none">👉</text>
    </g>
    <g transform="translate(28, 0)" id="render-menu-inventory-wrapper" display="none">
        <rect x="350" y="120" width="400" height="300" stroke="white" stroke-width="5" fill="black"></rect>
        <text x="415" y="170" fill="white" font-size="30" id="render-menu-inventory-item" display="none"></text>
        <text x="370" y="170" fill="white" font-size="30" id="render-menu-inventory-cursor" display="none">👉</text>
    </g>
    <g transform="translate(28, 0)" id="render-menu-item-operation-wrapper" display="none">
        <rect x="20" y="475" stroke="white" height="110" width="760" id="render-menu-item-operation-message-wrapper"
              display="none"></rect>
        <text x="40" y="519" fill="white" font-size="30" id="render-menu-item-operation-message"></text>
        <rect x="575" y="305" width="180" height="115" stroke="white" stroke-width="5" fill="black"></rect>
        <text x="640" y="350" fill="white" font-size="30" id="render-menu-item-operation-item" display="none"></text>
        <text x="595" y="350" fill="white" font-size="30" id="render-menu-item-operation-cursor" display="none">👉</text>
    </g>
    <g transform="translate(28, 52)" id="render-menu-common-confirm-wrapper" display="none">
        <rect x="-8" y="423" stroke="white" height="110" width="760" id="render-menu-common-confirm-message-wrapper"
              display="none"></rect>
        <text x="12" y="467" fill="white" font-size="30" id="render-menu-common-confirm-message"></text>
        <rect x="575" y="305" width="180" height="115" stroke="white" stroke-width="5" fill="black"></rect>
        <text x="640" y="350" fill="white" font-size="30" id="render-menu-common-confirm-item" display="none"></text>
        <text x="595" y="350" fill="white" font-size="30" id="render-menu-common-confirm-cursor"
              display="none">👉
        </text>
    </g>
    <g transform="translate(0, 0)" id="render-menu-emote-wrapper" display="none">
        <rect x="20" y="475" stroke="white" height="110" width="760"></rect>
        <rect x="35" y="488" fill="white" width="40" height="40" class="always-blink"
              id="render-menu-emote-cursor"></rect>
        <text x="36" y="519" fill="white" font-size="30" id="render-menu-emote-item"></text>
    </g>
</svg>
<svg width="800" height="700" id="message" display="none" style="position: absolute; top:0; left: 0;">
    <g transform="translate(0, 0)">
        <rect x="20" y="15" stroke="white" height="55" width="760"></rect>
        <text x="30" y="50" fill="white" font-size="18" id="message-1"></text>
        <text x="30" y="554" fill="white" font-size="20" id="message-2"></text>
        <polygon points="737 560, 750 575, 763 560" fill="white" id="has-continuous-message" display="none"/>
    </g>
</svg>
<svg width="800" height="700" id="fader" display="block" style="position: absolute; top:0; left: 0;">
    <rect x="0" y="0" width="800" height="700" fill="black" fill-opacity="0"></rect>
</svg>
<svg width="800" height="180" id="controller" display="none">
    <circle cx="560" cy="120" r="60" fill="#8f3842" class="a"></circle>
    <text x="547" y="135" fill="black" font-size="45" class="a">A</text>
    <circle cx="700" cy="80" r="60" fill="#8f3842" class="z"></circle>
    <text x="687" y="95" fill="black" font-size="40" class="z">Z</text>
    <rect x="50" y="63" width="80" height="80" fill="gray" class="ArrowLeft"></rect>
    <rect x="134" y="23" width="80" height="80" fill="gray" class="ArrowUp"></rect>
    <rect x="134" y="107" width="80" height="80" fill="gray" class="ArrowDown"></rect>
    <rect x="218" y="63" width="80" height="80" fill="gray" class="ArrowRight"></rect>
</svg>
</g>
<script type="module">
    import init, {create_rpg_engine} from "./pkg/bid_of_power_lib.js?t=202410231600";

    await init();
    const engine = create_rpg_engine();
    document.getElementById("controller").setAttribute('display', 'block');

    const keys = ['a', 'z', 'ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];
    window.onkeydown = (event) => {
        engine.keydown(event.key);
        if (['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {
            event.preventDefault();
        }
    }

    keys.forEach((key) => {
        Array.from(document.querySelectorAll(`#controller .${key}`)).forEach((element) => {
            element.ontouchstart = () => {
                engine.keydown(key);
            };
        });
    });

    function animate(step) {
        engine.animate(step);
        window.requestAnimationFrame(animate);
    }

    window.requestAnimationFrame(animate);

</script>
</body>
</html>
