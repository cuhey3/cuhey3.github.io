<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&display=block');
    </style>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=block');
    </style>
    <style>
        html {
            touch-action: manipulation;
        }

        body {
            background-color: black;
        }

        body, svg {
            font-family: "Noto Sans JP", "Noto Color Emoji", sans-serif;
            font-weight: 300;
            font-style: normal;
            margin: 0;
            padding: 0;
        }

        svg {
            /*border: 1px solid white;*/
        }

        svg#controller {
            border: none;
        }

        text {
            user-select: none;
        }
    </style>
</head>
<body>
<svg width="800" height="800" id="title" display="none">
    <g transform="translate(0, 50)">
        <text x="200" y="180" font-size="60" fill="white">BID OF POWER</text>
        <text x="310" y="280" fill="white" font-size="30" text-decoration="line-through">CPU„Å®ÈÅä„Å∂</text>
        <text x="310" y="340" fill="white" font-size="30">‰∏ÄÁ∑í„Å´ÈÅä„Å∂</text>
        <text x="310" y="400" fill="white" font-size="30">„Ç™„É≥„É©„Ç§„É≥ÂØæÊà¶</text>
        <text x="250" y="345" fill="white" font-size="40" id="title-cursor">üëâ</text>
    </g>
    <text x="590" y="30" fill="white" font-size="20">A„Ç≠„Éº: Ê±∫ÂÆö</text>
    <text x="590" y="60" fill="white" font-size="20">Z„Ç≠„Éº: ÂèñÊ∂à„Éª„É°„Éã„É•„Éº</text>
    <text x="590" y="90" fill="white" font-size="20">ÊñπÂêë„Ç≠„Éº: ÁßªÂãï</text>
</svg>
<svg width="800" height="800" id="game-main" display="none">
    <rect x="20" y="15" stroke="white" height="55" width="760" display="block"></rect>
    <text x="30" y="50" fill="white" font-size="18" id="simple-binder-required-input"></text>
    <g transform="translate(0, 10)" id="temporary-player-info">
        <text x="505" y="80" fill="white" font-size="13">„Éó„É¨„Ç§„É§„Éº1</text>
        <text x="700" y="80" fill="white" font-size="13">„Éó„É¨„Ç§„É§„Éº2</text>
        <rect x="390" y="90" stroke="white" height="160" width="390"></rect>
        <rect x="390" y="90" stroke="white" height="160" width="85"></rect>
        <text x="403" y="114" fill="white" font-size="15">Ë°åÂãïÈ†Ü</text>
        <text x="548" y="114" fill="white" font-size="15" text-anchor="end" id="simple-binder-initiative-a"></text>
        <text x="403" y="138" fill="white" font-size="15">HP/MHP</text>
        <text x="548" y="138" fill="white" font-size="15" id="simple-binder-status-hp-max-hp-a" text-anchor="end"></text>
        <text x="403" y="162" fill="white" font-size="15">Ë¢´„ÉÄ„É°</text>
        <text x="548" y="162" fill="white" font-size="15" id="simple-binder-status-damage-a"  text-anchor="end"></text>
        <text x="403" y="186" fill="white" font-size="15">ATK</text>
        <text x="548" y="186" fill="white" font-size="15" id="simple-binder-status-atk-a" text-anchor="end"></text>
        <text x="403" y="210" fill="white" font-size="15">DEF</text>
        <text x="548" y="210" fill="white" font-size="15" id="simple-binder-status-def-a" text-anchor="end"></text>
        <text x="403" y="234" fill="white" font-size="15">Money</text>
        <text x="573" y="234" fill="white" font-size="15" text-anchor="end" id="simple-binder-player-info-money-a"></text>

        <rect x="585" y="90" stroke="white" height="160" width="85"></rect>
        <text x="598" y="114" fill="white" font-size="15">Ë°åÂãïÈ†Ü</text>
        <text x="743" y="114" fill="white" font-size="15" text-anchor="end" id="simple-binder-initiative-b"></text>
        <text x="598" y="138" fill="white" font-size="15">HP/MHP</text>
        <text x="743" y="138" fill="white" font-size="15" id="simple-binder-status-hp-max-hp-b" text-anchor="end"></text>
        <text x="598" y="162" fill="white" font-size="15">Ë¢´„ÉÄ„É°</text>
        <text x="743" y="162" fill="white" font-size="15" id="simple-binder-status-damage-b"  text-anchor="end"></text>
        <text x="598" y="186" fill="white" font-size="15">ATK</text>
        <text x="743" y="186" fill="white" font-size="15" id="simple-binder-status-atk-b" text-anchor="end"></text>
        <text x="598" y="210" fill="white" font-size="15">DEF</text>
        <text x="743" y="210" fill="white" font-size="15" id="simple-binder-status-def-b" text-anchor="end"></text>
        <text x="598" y="234" fill="white" font-size="15">Money</text>
        <text x="768" y="234" fill="white" font-size="15" text-anchor="end" id="simple-binder-player-info-money-b"></text>
    </g>
    <g transform="translate(0, 97)" id="temporary-player-card-info">
        <text x="455" y="183" fill="white" font-size="14" >„Éó„É¨„Ç§„É§„Éº1„Ç¢„Ç§„ÉÜ„É†</text>
        <rect x="390" y="193" stroke="white" height="495" width="390"></rect>
        <text x="430" y="220" fill="white" font-size="14" id="simple-binder-card-list-a-1"></text>
        <text x="430" y="259" fill="white" font-size="14" id="simple-binder-card-list-a-2"></text>
        <text x="430" y="298" fill="white" font-size="14" id="simple-binder-card-list-a-3"></text>
        <text x="430" y="337" fill="white" font-size="14" id="simple-binder-card-list-a-4"></text>
        <text x="430" y="376" fill="white" font-size="14" id="simple-binder-card-list-a-5"></text>
        <text x="430" y="415" fill="white" font-size="14" id="simple-binder-card-list-a-6"></text>
        <text x="430" y="454" fill="white" font-size="14" id="simple-binder-card-list-a-7"></text>
        <text x="430" y="493" fill="white" font-size="14" id="simple-binder-card-list-a-8"></text>
        <text x="430" y="532" fill="white" font-size="14" id="simple-binder-card-list-a-9"></text>
        <text x="430" y="571" fill="white" font-size="14" id="simple-binder-card-list-a-10"></text>
        <text x="430" y="620" fill="white" font-size="14" id="simple-binder-card-list-a-11"></text>
        <text x="445" y="235" fill="white" font-size="11" id="simple-binder-card-list-a-1-description"></text>
        <text x="445" y="274" fill="white" font-size="11" id="simple-binder-card-list-a-2-description"></text>
        <text x="445" y="313" fill="white" font-size="11" id="simple-binder-card-list-a-3-description"></text>
        <text x="445" y="352" fill="white" font-size="11" id="simple-binder-card-list-a-4-description"></text>
        <text x="445" y="391" fill="white" font-size="11" id="simple-binder-card-list-a-5-description"></text>
        <text x="445" y="430" fill="white" font-size="11" id="simple-binder-card-list-a-6-description"></text>
        <text x="445" y="469" fill="white" font-size="11" id="simple-binder-card-list-a-7-description"></text>
        <text x="445" y="508" fill="white" font-size="11" id="simple-binder-card-list-a-8-description"></text>
        <text x="445" y="547" fill="white" font-size="11" id="simple-binder-card-list-a-9-description"></text>
        <text x="445" y="586" fill="white" font-size="11" id="simple-binder-card-list-a-10-description"></text>
        <text x="445" y="625" fill="white" font-size="11" id="simple-binder-card-list-a-11-description"></text>

        <text x="650" y="183" fill="white" font-size="14" >„Éó„É¨„Ç§„É§„Éº2„Ç¢„Ç§„ÉÜ„É†</text>
        <rect x="585" y="193" stroke="white" height="495" width="195"></rect>
        <text x="625" y="220" fill="white" font-size="14" id="simple-binder-card-list-b-1"></text>
        <text x="625" y="259" fill="white" font-size="14" id="simple-binder-card-list-b-2"></text>
        <text x="625" y="298" fill="white" font-size="14" id="simple-binder-card-list-b-3"></text>
        <text x="625" y="337" fill="white" font-size="14" id="simple-binder-card-list-b-4"></text>
        <text x="625" y="376" fill="white" font-size="14" id="simple-binder-card-list-b-5"></text>
        <text x="625" y="415" fill="white" font-size="14" id="simple-binder-card-list-b-6"></text>
        <text x="625" y="454" fill="white" font-size="14" id="simple-binder-card-list-b-7"></text>
        <text x="625" y="493" fill="white" font-size="14" id="simple-binder-card-list-b-8"></text>
        <text x="625" y="532" fill="white" font-size="14" id="simple-binder-card-list-b-9"></text>
        <text x="625" y="571" fill="white" font-size="14" id="simple-binder-card-list-b-10"></text>
        <text x="625" y="620" fill="white" font-size="14" id="simple-binder-card-list-b-11"></text>
        <text x="640" y="235" fill="white" font-size="11" id="simple-binder-card-list-b-1-description"></text>
        <text x="640" y="274" fill="white" font-size="11" id="simple-binder-card-list-b-2-description"></text>
        <text x="640" y="313" fill="white" font-size="11" id="simple-binder-card-list-b-3-description"></text>
        <text x="640" y="352" fill="white" font-size="11" id="simple-binder-card-list-b-4-description"></text>
        <text x="640" y="391" fill="white" font-size="11" id="simple-binder-card-list-b-5-description"></text>
        <text x="640" y="430" fill="white" font-size="11" id="simple-binder-card-list-b-6-description"></text>
        <text x="640" y="469" fill="white" font-size="11" id="simple-binder-card-list-b-7-description"></text>
        <text x="640" y="508" fill="white" font-size="11" id="simple-binder-card-list-b-8-description"></text>
        <text x="640" y="547" fill="white" font-size="11" id="simple-binder-card-list-b-9-description"></text>
        <text x="640" y="586" fill="white" font-size="11" id="simple-binder-card-list-b-10-description"></text>
        <text x="640" y="625" fill="white" font-size="11" id="simple-binder-card-list-b-11-description"></text>
        <text x="400" y="223" fill="white" font-size="18" id="use-item-cursor-a"></text>
        <text x="595" y="223" fill="white" font-size="18" id="use-item-cursor-b"></text>
    </g>
    <g transform="translate(0, 65)" id="scheduled-card-list">
        <text x="315" y="215" fill="white" font-size="13">ÂÖ•Êú≠‰∫àÂÆö</text>
        <rect x="20" y="225" width="350" height="495" stroke="white" fill="black"></rect>
        <text x="40" y="250" fill="white" font-size="14" id="simple-binder-scheduled-card-1"></text>
        <text x="40" y="275" fill="white" font-size="14" id="simple-binder-scheduled-card-2" ></text>
        <text x="40" y="300" fill="white" font-size="14" id="simple-binder-scheduled-card-3" ></text>
        <text x="40" y="325" fill="white" font-size="14" id="simple-binder-scheduled-card-4" ></text>
        <text x="40" y="350" fill="white" font-size="14" id="simple-binder-scheduled-card-5" ></text>
        <text x="40" y="375" fill="white" font-size="14" id="simple-binder-scheduled-card-6" ></text>
        <text x="40" y="400" fill="white" font-size="14" id="simple-binder-scheduled-card-7" ></text>
        <text x="40" y="425" fill="white" font-size="14" id="simple-binder-scheduled-card-8" ></text>
        <text x="40" y="450" fill="white" font-size="14" id="simple-binder-scheduled-card-9" ></text>
        <text x="40" y="475" fill="white" font-size="14" id="simple-binder-scheduled-card-10" ></text>
        <text x="40" y="500" fill="white" font-size="14" id="simple-binder-scheduled-card-11" ></text>
        <text x="40" y="525" fill="white" font-size="14" id="simple-binder-scheduled-card-12" ></text>
        <text x="40" y="550" fill="white" font-size="14" id="simple-binder-scheduled-card-13" ></text>
        <text x="40" y="575" fill="white" font-size="14" id="simple-binder-scheduled-card-14" ></text>
        <text x="40" y="600" fill="white" font-size="14" id="simple-binder-scheduled-card-15" ></text>
        <text x="40" y="625" fill="white" font-size="14" id="simple-binder-scheduled-card-16" ></text>
        <text x="40" y="650" fill="white" font-size="14" id="simple-binder-scheduled-card-17" ></text>
        <text x="40" y="675" fill="white" font-size="14" id="simple-binder-scheduled-card-18" ></text>
        <text x="40" y="700" fill="white" font-size="14" id="simple-binder-scheduled-card-19" ></text>
        <text x="170" y="249" fill="white" font-size="12" id="simple-binder-scheduled-card-description-1"></text>
        <text x="170" y="274" fill="white" font-size="12" id="simple-binder-scheduled-card-description-2" ></text>
        <text x="170" y="299" fill="white" font-size="12" id="simple-binder-scheduled-card-description-3" ></text>
        <text x="170" y="324" fill="white" font-size="12" id="simple-binder-scheduled-card-description-4" ></text>
        <text x="170" y="349" fill="white" font-size="12" id="simple-binder-scheduled-card-description-5" ></text>
        <text x="170" y="374" fill="white" font-size="12" id="simple-binder-scheduled-card-description-6" ></text>
        <text x="170" y="399" fill="white" font-size="12" id="simple-binder-scheduled-card-description-7" ></text>
        <text x="170" y="424" fill="white" font-size="12" id="simple-binder-scheduled-card-description-8" ></text>
        <text x="170" y="449" fill="white" font-size="12" id="simple-binder-scheduled-card-description-9" ></text>
        <text x="170" y="474" fill="white" font-size="12" id="simple-binder-scheduled-card-description-10" ></text>
        <text x="170" y="499" fill="white" font-size="12" id="simple-binder-scheduled-card-description-11" ></text>
        <text x="170" y="524" fill="white" font-size="12" id="simple-binder-scheduled-card-description-12" ></text>
        <text x="170" y="549" fill="white" font-size="12" id="simple-binder-scheduled-card-description-13" ></text>
        <text x="170" y="574" fill="white" font-size="12" id="simple-binder-scheduled-card-description-14" ></text>
        <text x="170" y="599" fill="white" font-size="12" id="simple-binder-scheduled-card-description-15" ></text>
        <text x="170" y="624" fill="white" font-size="12" id="simple-binder-scheduled-card-description-16" ></text>
        <text x="170" y="649" fill="white" font-size="12" id="simple-binder-scheduled-card-description-17" ></text>
        <text x="170" y="674" fill="white" font-size="12" id="simple-binder-scheduled-card-description-18" ></text>
        <text x="170" y="699" fill="white" font-size="12" id="simple-binder-scheduled-card-description-19" ></text>
    </g>
    <g transform="translate(0, 20)" id="render-game-main-bid-wrapper" display="none">
        <rect x="20" y="80" width="350" height="160" stroke="white" fill="black"></rect>
        <text x="70" y="110" fill="white" font-size="15" id="render-game-main-bid-item" display="none"></text>
        <text x="350" y="113" fill="white" font-size="18" id="simple-binder-input-amount-1" text-anchor="end" display="none"></text>
        <text x="350" y="158" fill="white" font-size="18" id="simple-binder-input-amount-2" text-anchor="end" display="none"></text>
        <text x="350" y="203" fill="white" font-size="18" id="simple-binder-input-amount-3" text-anchor="end" display="none"></text>
        <text x="295" y="113" fill="white" font-size="18" id="simple-binder-current-amount-1" text-anchor="end" display="none"></text>
        <text x="295" y="158" fill="white" font-size="18" id="simple-binder-current-amount-2" text-anchor="end" display="none"></text>
        <text x="295" y="203" fill="white" font-size="18" id="simple-binder-current-amount-3" text-anchor="end" display="none"></text>
        <text x="295" y="203" fill="white" font-size="18" id="simple-binder-current-amount-3" text-anchor="end" display="none"></text>
        <text x="30" y="115" fill="white" font-size="24" id="render-game-main-bid-cursor" display="none"></text>
        <text x="255" y="70" fill="white" font-size="13">ÁèæÂú®‰æ°Ê†º</text>
        <text x="315" y="70" fill="white" font-size="13">ÂÖ•Êú≠‰æ°Ê†º</text>
    </g>
    <g transform="translate(0, 0)" id="render-game-main-common-confirm-wrapper" display="none">
        <rect x="20" y="15" stroke="white" height="55" width="760" id="render-game-main-common-confirm-message-wrapper"
              display="none"></rect>
        <text x="30" y="50" fill="white" font-size="18" id="render-game-main-common-confirm-message"></text>
        <rect x="640" y="15" width="140" height="85" stroke="white" fill="black"></rect>
        <text x="693" y="52" fill="white" font-size="20" id="render-game-main-common-confirm-item" display="none"></text>
        <text x="658" y="52" fill="white" font-size="20" id="render-game-main-common-confirm-cursor"
              display="none">üëâ
        </text>
    </g>
    <g transform="translate(0, 0)" id="render-game-main-battle-wrapper" display="none">
        <rect x="20" y="15" stroke="white" height="55" width="760" id="render-game-main-battle-message-wrapper"
              display="none"></rect>
        <text x="30" y="50" fill="white" font-size="18" id="render-game-main-battle-message"></text>
        <rect x="520" y="15" width="260" height="85" stroke="white" fill="black"></rect>
        <text x="565" y="52" fill="white" font-size="20" id="render-game-main-battle-item" display="none"></text>
        <text x="535" y="52" fill="white" font-size="20" id="render-game-main-battle-cursor"
              display="none">üëâ
        </text>
    </g>
</svg>
<svg width="800" height="800" id="message" display="none" style="position: absolute; top:0; left: 0;">
    <g transform="translate(0, 0)">
        <rect x="20" y="15" stroke="white" height="55" width="760"></rect>
        <text x="30" y="50" fill="white" font-size="18" id="message-1"></text>
        <text x="30" y="554" fill="white" font-size="20" id="message-2"></text>
        <polygon points="737 560, 750 575, 763 560" fill="white" id="has-continuous-message" display="none"/>
    </g>
</svg>
<svg width="800" height="800" id="fader" display="block" style="position: absolute; top:0; left: 0;">
    <rect x="0" y="0" width="800" height="800" fill="black" fill-opacity="0"></rect>
</svg>
<svg width="800" height="180" id="controller" display="none">
    <circle cx="560" cy="120" r="60" fill="#8f3842" class="a"></circle>
    <text x="547" y="135" fill="black" font-size="45" class="a">A</text>
    <circle cx="700" cy="80" r="60" fill="#8f3842" class="z"></circle>
    <text x="687" y="95" fill="black" font-size="40" class="z">Z</text>
    <rect x="50" y="63" width="80" height="80" fill="gray" class="ArrowLeft"></rect>
    <rect x="134" y="23" width="80" height="80" fill="gray" class="ArrowUp"></rect>
    <rect x="134" y="107" width="80" height="80" fill="gray" class="ArrowDown"></rect>
    <rect x="218" y="63" width="80" height="80" fill="gray" class="ArrowRight"></rect>
</svg>
</g>
<script type="module">
    import init, {create_rpg_engine} from "./pkg/bid_of_power_lib.js?t=202410231800";

    await init();
    const engine = create_rpg_engine();
    document.getElementById("controller").setAttribute('display', 'block');

    const keys = ['a', 'z', 'ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];
    window.onkeydown = (event) => {
        engine.keydown(event.key);
        if (['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {
            event.preventDefault();
        }
    }

    keys.forEach((key) => {
        Array.from(document.querySelectorAll(`#controller .${key}`)).forEach((element) => {
            element.ontouchstart = () => {
                engine.keydown(key);
            };
        });
    });

    function animate(step) {
        engine.animate(step);
        window.requestAnimationFrame(animate);
    }

    window.requestAnimationFrame(animate);

</script>
</body>
</html>
